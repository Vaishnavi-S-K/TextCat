<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AI-powered text categorization system for customer feedback analysis">
  <title>Text Categorization System | AI Customer Feedback Analysis</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ§¾ Text Categorization System</h1>
      <p class="subtitle">AI-Powered Customer Feedback Analysis</p>
      <div class="header-controls">
        <label class="dark-toggle">
          <input id="darkModeToggle" type="checkbox" aria-label="Toggle dark mode">
          <span class="toggle-text">ğŸŒ™ Dark Mode</span>
        </label>
      </div>
    </header>
    
    <main>
      <!-- Mode Toggle -->
      <div class="mode-toggle-section">
        <div class="mode-toggle-container">
          <button id="singleModeBtn" class="mode-btn active">
            <span class="mode-icon">ğŸ“</span>
            <span class="mode-label">Single Feedback</span>
          </button>
          <button id="batchModeBtn" class="mode-btn">
            <span class="mode-icon">ğŸ“Š</span>
            <span class="mode-label">Batch Analysis</span>
          </button>
        </div>
      </div>

      <!-- Quick Examples Section -->
      <div class="examples-section" id="singleExamples">
        <p class="examples-label">ğŸ’¡ Try these examples:</p>
        <div class="examples-grid">
          <button class="example-chip" data-text="The app crashes every time I try to upload photos">ğŸ› Bug Report</button>
          <button class="example-chip" data-text="Please add dark mode to the interface">ğŸ’¡ Feature Request</button>
          <button class="example-chip" data-text="Why is the pricing so expensive compared to competitors?">ğŸ’° Pricing Issue</button>
          <button class="example-chip" data-text="This is the best app I've ever used! Love it!">âœ… Positive</button>
          <button class="example-chip" data-text="Terrible customer support. Nobody responds to my emails.">ğŸ˜ Negative</button>
        </div>
      </div>

      <!-- Batch Examples Section -->
      <div class="examples-section" id="batchExamples" style="display: none;">
        <p class="examples-label">ğŸ’¡ Batch example format (one feedback per line):</p>
        <button id="loadBatchExample" class="btn-text">Load Sample Batch</button>
      </div>

      <!-- Single Input Section -->
      <div class="input-section" id="singleInput">
        <label for="feedbackInput">Enter Customer Feedback:</label>
        <textarea 
          id="feedbackInput" 
          placeholder="Type or paste customer feedback here... (e.g., 'The checkout process is confusing and slow')"
          aria-label="Customer feedback text input"
          rows="5"
        ></textarea>
        
        <div class="input-meta">
          <span id="charCount" class="char-count">0 / 5000 characters</span>
          <button id="clearInput" class="btn-text">Clear</button>
        </div>
        
        <div class="button-group">
          <button id="predictBtn" class="btn-primary">
            <span class="btn-icon">ğŸ”</span>
            <span class="btn-text">Classify Feedback</span>
          </button>
          <button id="randomExample" class="btn-secondary">
            <span class="btn-icon">ğŸ²</span>
            <span class="btn-text">Random Example</span>
          </button>
        </div>

        <p class="keyboard-hint">ğŸ’¡ Pro tip: Press <kbd>Ctrl</kbd> + <kbd>Enter</kbd> to classify</p>
      </div>

      <!-- Batch Input Section -->
      <div class="batch-input-section" id="batchInput" style="display: none;">
        <div class="batch-input-header">
          <label for="batchFeedbackInput">Enter Multiple Feedbacks (one per line):</label>
          <div class="csv-upload-container">
            <input type="file" id="csvFileInput" accept=".csv" style="display: none;">
            <button id="uploadCSVBtn" class="btn-secondary" title="Upload CSV file with feedbacks">
              <span class="btn-icon">ğŸ“</span>
              <span class="btn-text">Upload CSV</span>
            </button>
          </div>
        </div>
        
        <textarea 
          id="batchFeedbackInput" 
          placeholder="Paste multiple feedback texts here, one per line:&#10;&#10;The app is amazing and works flawlessly!&#10;The pricing is too high for the features offered.&#10;Please add dark mode to the interface.&#10;The customer support never responds to emails.&#10;The app crashes when I try to upload files.&#10;&#10;OR click 'Upload CSV' to import from a file (with 'Feedback' column)"
          aria-label="Batch feedback text input"
          rows="10"
        ></textarea>
        
        <div class="batch-meta">
          <span id="batchCount" class="batch-count">0 feedbacks detected (max 100)</span>
          <button id="clearBatch" class="btn-text">Clear All</button>
        </div>
        
        <div class="button-group">
          <button id="analyzeBatchBtn" class="btn-primary">
            <span class="btn-icon">ğŸš€</span>
            <span class="btn-text">Analyze All</span>
          </button>
        </div>
      </div>
      
      <!-- Batch Progress Section -->
      <div id="batchProgress" class="batch-progress-section" style="display: none;">
        <div class="progress-header">
          <h3>âš¡ Processing Batch...</h3>
          <span id="progressText">Analyzing feedback 0/0...</span>
        </div>
        <div class="progress-bar-container">
          <div id="progressBar" class="progress-bar-fill"></div>
        </div>
        <div class="progress-details">
          <span id="currentFeedback">Preparing analysis...</span>
          <span id="estimatedTime">Estimated: calculating...</span>
        </div>
      </div>

      <!-- Batch Results Section -->
      <div id="batchResults" class="batch-results-section" style="display: none;">
        <div class="batch-results-header">
          <h2>ğŸ“Š Batch Analysis Complete</h2>
          <div class="batch-actions">
            <button id="downloadCSV" class="btn-icon-only" title="Download as CSV">
              <span>ğŸ“¥</span>
            </button>
            <button id="downloadJSON" class="btn-icon-only" title="Download as JSON">
              <span>ğŸ’¾</span>
            </button>
            <button id="copySummary" class="btn-icon-only" title="Copy Summary">
              <span>ğŸ“‹</span>
            </button>
            <button id="copyAllResults" class="btn-icon-only" title="Copy All Results">
              <span>ğŸ“„</span>
            </button>
          </div>
        </div>

        <!-- Statistics Dashboard -->
        <div id="statsdashboard" class="stats-dashboard">
          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-icon">ğŸ“Š</div>
              <div class="metric-content">
                <div class="metric-value" id="totalAnalyzed">0</div>
                <div class="metric-label">Total Analyzed</div>
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-icon" id="topCategoryIcon">ğŸ¯</div>
              <div class="metric-content">
                <div class="metric-value" id="topCategory">-</div>
                <div class="metric-label">Most Common</div>
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-icon">ğŸ’¯</div>
              <div class="metric-content">
                <div class="metric-value" id="avgConfidence">0%</div>
                <div class="metric-label">Avg Confidence</div>
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-icon">â±ï¸</div>
              <div class="metric-content">
                <div class="metric-value" id="processingTime">0s</div>
                <div class="metric-label">Processing Time</div>
              </div>
            </div>
          </div>

          <!-- Category Distribution Chart -->
          <div class="chart-section">
            <h3>ğŸ“ˆ Category Distribution</h3>
            <div id="categoryChart" class="category-chart"></div>
          </div>

          <!-- Confidence Analysis -->
          <div class="confidence-section">
            <h3>ğŸ¯ Confidence Analysis</h3>
            <div class="confidence-grid">
              <div class="confidence-item">
                <span class="confidence-label">High (&gt;80%)</span>
                <span class="confidence-badge high" id="highConfidence">0</span>
              </div>
              <div class="confidence-item">
                <span class="confidence-label">Medium (50-80%)</span>
                <span class="confidence-badge medium" id="mediumConfidence">0</span>
              </div>
              <div class="confidence-item">
                <span class="confidence-label">Low (&lt;50%)</span>
                <span class="confidence-badge low" id="lowConfidence">0</span>
              </div>
            </div>
          </div>

          <!-- Top Insights -->
          <div class="insights-section">
            <h3>ğŸ’¡ Key Insights</h3>
            <div id="insightsList" class="insights-list"></div>
          </div>
        </div>

        <!-- Individual Results -->
        <div class="individual-results">
          <h3>ğŸ“ Individual Results</h3>
          <div id="individualResultsList" class="results-list"></div>
        </div>
      </div>
      
      <!-- Result Section -->
      <div id="result" class="result-section" style="display: none;">
        <div class="result-header">
          <h2>ğŸ“Š Classification Result</h2>
          <div class="result-actions">
            <button id="copyResultBtn" class="btn-icon-only" title="Copy result to clipboard">
              <span>ğŸ“‹</span>
            </button>
          </div>
        </div>
        <div id="resultContent"></div>
      </div>
      
      <!-- Loading State -->
      <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
        <p>Analyzing feedback with AI...</p>
        <p class="loading-subtext">This usually takes 1-2 seconds</p>
      </div>
      
      <!-- Error Message -->
      <div id="error" class="error-message" style="display: none;"></div>

      <!-- History Section -->
      <div id="historySection" class="history-section" style="display: none;">
        <div class="history-header">
          <h3>ğŸ“œ Recent Classifications</h3>
          <button id="clearHistory" class="btn-text">Clear All</button>
        </div>
        <div id="historyContainer" class="history-container"></div>
      </div>
    </main>
    
    <!-- Footer -->
    <footer>
      <div class="stats">
        <div class="stat-item">
          <span class="stat-icon">ğŸ¯</span>
          <div class="stat-content">
            <span class="stat-label">Model Accuracy</span>
            <span class="stat-value">87.23%</span>
          </div>
        </div>
        <div class="stat-item">
          <span class="stat-icon">ğŸ“‚</span>
          <div class="stat-content">
            <span class="stat-label">Categories</span>
            <span class="stat-value">5</span>
          </div>
        </div>
        <div class="stat-item">
          <span class="stat-icon" id="statusIcon">ğŸ”´</span>
          <div class="stat-content">
            <span class="stat-label">API Status</span>
            <span id="apiStatus" class="stat-value">Checking...</span>
          </div>
        </div>
      </div>
      <p class="footer-text">Powered by Flask API & scikit-learn ML | Deployed on Render & Netlify</p>
      <p class="footer-text">
        Built by Vaishnavi, Shivaprasad and Bhavana.
      </p>

    </footer>
  </div>
  
  <script src="script.js"></script>
</body>
</html>
